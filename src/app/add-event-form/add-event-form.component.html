<div class="container">
  <form
    [formGroup]="addEvent"
    class="needs-validation"
    (ngSubmit)="onSubmit()">
    <br>
    <div>
      <label>Title :</label>
      <input type="text" class="form-control" formControlName="title"
             [class.is-invalid]="title.invalid && title.touched"
             [class.is-valid]="title.valid && title.touched">
      <div *ngIf="title?.invalid && title.touched" class="invalid-feedback text-danger"
      >
        <div *ngIf="title?.errors?.['required']">Title is required</div>
        <div *ngIf="title?.errors?.['minlength']">Title should be 5 characters or more</div>
        <div *ngIf="title?.errors?.['maxlength']">Title should be 150 characters or less</div>
      </div>
    </div>
    <div>
      <label>Catégorie :</label>
      <select name="category" id="category" class="form-control" formControlName="category" [class.is-invalid]="category.invalid && category.touched"
              [class.is-valid]="category.valid && category.touched">
        <option value="" disabled selected></option>
        <option *ngFor="let category of categories" [value]="category.categoryId" >{{category.name}}</option>
      </select>
      <div *ngIf="category?.invalid && category.touched" class="invalid-feedback text-danger"
      >
        <div *ngIf="category?.errors?.['required']">Content is required</div>
      </div>
    </div>
    <div>
      <label>Type :</label>
      <select name="category" id="type" class="form-control" formControlName="type" [class.is-invalid]="type.invalid && type.touched"
              [class.is-valid]="type.valid && type.touched">
        <option value="" disabled selected></option>
        <option *ngFor="let type of types" [value]="type.typeId" >{{type.name}}</option>
      </select>
      <div *ngIf="category?.invalid && category.touched" class="invalid-feedback text-danger"
      >
        <div *ngIf="category?.errors?.['required']">Un type d'évènement est requis</div>
      </div>
    </div>
    <div>
      <label>Description :</label>
      <textarea class="form-control content-textarea" formControlName="content" rows="2" [class.is-invalid]="description.invalid && description.touched"
                [class.is-valid]="description.valid && description.touched"></textarea>
      <div *ngIf="description.invalid && description.touched" class="invalid-feedback text-danger"
      >
        <div *ngIf="description?.errors?.['required']">Une description est requise</div>
        <div *ngIf="description?.errors?.['maxlength']">Title should be 2500 characters or less</div>
      </div>
    </div>
  </form>
  <div class="d-flex justify-content-end">
    <button type="button" class="btn btn-outline-danger" style="margin-right: 10px;" (click)="onClose()">Retour</button>
    <button type="button" class="btn btn-success" (click)="onSubmit()">Créer l'évènement</button>
  </div>
</div>
